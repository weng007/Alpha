@model AlphaMvc.Models.BDCModels
@{
    ViewBag.Title = "CreateBDC";
}
<h2>BreakDown Cost Create</h2>
<table>
    <tr>
        <td>
            @Html.ActionLink("Break Down Cost List", "IndexBDC")
        </td>
    </tr>
</table>
@*<br />*@
@* -------------------------------------- modal dialog-------------------------------- *@
<link href="@Url.Content("~/Content/Dialog/dialogstyle.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/Tab/easy-responsive-tabs.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/Tab/easyResponsiveTabs.js")" type="text/javascript"></script>
@*<link href="@Url.Content("~/Content/Style2.css")" rel="stylesheet" type="text/css" />*@
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<div id="dialog" title="Quotation" class="dialogstyle">
    <table id="example2" class="display" cellspacing="0">
        <thead>
            <tr>
                <th>No.</th>
                <th>Quo No.</th>
                <th>วันที่</th>
                <th>ลูกค้า</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>Quo1</td>
                <td>17/12/2017</td>
                <td>บริษัท1</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Quo2</td>
                <td>17/12/2017</td>
                <td>บริษัท2</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Quo3</td>
                <td>17/12/2017</td>
                <td>บริษัท3</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Quo4</td>
                <td>17/12/2017</td>
                <td>บริษัท4</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Quo5</td>
                <td>17/12/2017</td>
                <td>บริษัท5</td>
            </tr>
        </tbody>
    </table>
</div>

<div id="myModal">

    @using (Html.BeginForm())
    {
        <form>
                <ul class="form-style-1">
                    <li>
                        <label class="btnnew">Doc Version</label>&nbsp;<img src="@Url.Content("~/images/btnNewVersion.jpg")" alt="IMAGES" class="btnimage-3" />
                    </li>
                    <li>
                        <input type="text" id = "Docver"  name="field1" class="field-select-small-2" placeholder="V1" disabled />
                    </li>
                    <li>
                        <label>ใบเสนอราคา<span class="required">*</span></label>
                        <input type="text" id = "QuotationNo" name="field1" class="field-select-big" placeholder="ใบเสนอราคา" disabled />&nbsp;<img src="@Url.Content("~/Images/search-engine.png")" alt="IMAGES" class="btnimage" />
                    </li>
                </ul>
                <ul class="form-style-1">
                    <li>
                        <label class="label-big">ราคาขาย<span class="required">*</span></label>&nbsp;<label class="label-small">ราคาทุน<span class="required">*</span></label>
                        <input type="text" id = "Price" name="field1" class="field-divided" placeholder="ราคาขาย" />&nbsp;<input type="text" id = "Cost" name="field2" class="field-divided" placeholder="ราคาทุน" />
                    </li>
                    <li>
                        <label>กำไร<span class="required">*</span></label>
                        <input type="text" id = "Profit" name="field1" class="field-divided" placeholder="กำไร" />
                    </li>
                </ul>
                <ul class="form-style-1">
                    <li>
                        <label>หมายเหตุ<span class="required">*</span></label>
                        <textarea name="field5" id = "Remark" class="field-long field-textarea"></textarea>
                    </li>
                    <br />
                </ul>

            <table class="tabbar">
                <tr>
                    <td>
                        <div id="container">
                            <div id="parentHorizontalTab">
                                <ul class="resp-tabs-list hor_1">
                                    <li>Job Order</li>
                                </ul>
                                <div class="resp-tabs-container hor_1">
                                    <div>
                                        <a href="@Url.Action("CreateJobOrder", "JobOrder")" class="alink"><img src="@Url.Content("~/Images/btnAdd.png")" class="btnimage-2" /></a>
                                        <div class="grigbar">
                                            <table id="example" class="display" cellspacing="0">
                                                <thead>
                                                    <tr>
                                                        <th>No.</th>
                                                        <th>Job No.</th>
                                                        <th>วันที่</th>
                                                        <th>ลูกค้า</th>
                                                        <th>เบอร์โทร</th>
                                                        <th class="hideANDseek">บุคคลติดต่อ</th>
                                                        <th class="hideANDseek">ผู้ประสานงาน</th>
                                                        <th class="hideANDseek">หมายเหตุ</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>1</td>
                                                        <td>Order1</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท1</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ1</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน1</td>
                                                        <td class="hideANDseek">หมายเหตุ1</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Delete", "Trachnician")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>2</td>
                                                        <td>Order2</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท2</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ2</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน2</td>
                                                        <td class="hideANDseek">หมายเหตุ2</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Delete", "Trachnician")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>3</td>
                                                        <td>Order3</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท3</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ3</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน3</td>
                                                        <td class="hideANDseek">หมายเหตุ3</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Delete", "Trachnician")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>4</td>
                                                        <td>Order4</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท4</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ4</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน4</td>
                                                        <td class="hideANDseek">หมายเหตุ4</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Delete", "Trachnician")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>5</td>
                                                        <td>Order5</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท5</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ5</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน5</td>
                                                        <td class="hideANDseek">หมายเหตุ5</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>6</td>
                                                        <td>Order6</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท6</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ6</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน6</td>
                                                        <td class="hideANDseek">หมายเหตุ6</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Delete", "Trachnician")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>7</td>
                                                        <td>Order7</td>
                                                        <td>17/12/2017</td>
                                                        <td>บริษัท7</td>
                                                        <td>098xxxxxxx</td>
                                                        <td class="hideANDseek">บุคคลติดต่อ7</td>
                                                        <td class="hideANDseek">ผู้ประสานงาน7</td>
                                                        <td class="hideANDseek">หมายเหตุ7</td>
                                                        <td>
                                                            <a href="@Url.Action("Create", "JobOrder")">
                                                                <img src="@Url.Content("~/Images/edit.png")" />
                                                            </a>
                                                            <a href="@Url.Action("Delete", "Trachnician")">
                                                                <img src="@Url.Content("~/Images/delete.png")" />
                                                            </a>
                                                        </td>
                                                    </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
            
        </form>
    }
</div>
<script>
    $(function () {
        $("#dialog").dialog({
            height: "auto",
            width: 550,
            modal: true,
            autoOpen: false,
            show: {
                effect: "blind",
                duration: 1000
            },
            hide: {
                effect: "explode",
                duration: 1000
            }
        });

        $("#opener").on("click", function () {
            $("#dialog").dialog("open");
        });
    });
    $(document).ready(function () {
        $("#Create").click(function () {
            var dataObject = {
                Docver: 1, QuotationNo: 1, Price: $("#Price").val(), Cost: $("#Cost").val(),
                Profit: $("#Profit").val(), Remark: $("#Remark").val()
            };
            console.log(dataObject);
            $.ajax(
            {
                url: 'http://localhost:13131/api/BDC/Post',
                type: 'POST',
                data: dataObject,
                datatype: 'json',

                success: function (result) {
                    alert('Create is completed')
                    window.location.href = "../BDC/IndexBDC";
                }
                ,
                error: function (msg) {
                    alert(msg)
                }
            });
        });

        $('#parentHorizontalTab').easyResponsiveTabs({
            type: 'default', //Types: default, vertical, accordion
            width: 'auto', //auto or any width like 600px
            fit: true, // 100% fit in a container
            tabidentify: 'hor_1', // The tab groups identifier
            activate: function (event) { // Callback function if tab is switched
                var $tab = $(this);
                var $info = $('#nested-tabInfo');
                var $name = $('span', $info);
                $name.text($tab.text());
                $info.show();
            }
        });

    });

</script>
